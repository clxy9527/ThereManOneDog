<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.oa.mapper.EmployeeMapper">
	<!-- 登陆查询 -->
	<select id="selectEmployeeById" resultType="Employee">
	 select * from employee where eId=#{value}
	</select>
	<!-- 插入员工方法 -->
	<insert id="addEmployee" parameterType="Employee">
	 insert into employee values(#{eId},#{eName},#{ePassword},#{ePhone},#{eCard},#{pId},#{dId},#{eIndate},#{eOutdate},#{eState},#{eAddress})
	</insert>
	<!-- 更新方法 -->
	<update id="updateEmployee" parameterType="Employee">
	update employee
	<set>
	<if test="eName!=null and eName!=''">
		eName=#{eName},
	</if>
	<if test="ePassword!=null and ePassword!=''">
		ePassword=#{ePassword},
	</if>
	<if test="ePhone!=null and ePhone!=''">
		ePhone=#{ePhone},
	</if>
	<if test="eCard!=null and eCard!=''">
		eCard=#{eCard},
	</if>
	<if test="pId!=0">
		pId=#{pId},
	</if>
	<if test="dId!=0">
		dId=#{dId},
	</if>
		<if test="eIndate!=null and eIndate!=''">
		eIndate=#{eIndate},
	</if>
		<if test="eOutdate!=null and eOutdate!=''">
		eOutdate=#{eOutdate},
	</if>
	<if test="eState!=0 ">
		eState=#{eState},
	</if>
	<if test="eAddress!=null and eAddress!='' ">
		eAddress=#{eAddress},
	</if>
	</set>
	where eId=#{eId}
	</update>
	<!-- 查询所有员工 -->
	<select id="queryAllEmployee"  resultType="Employee">
		select * from employee
	</select>
	<!-- 按部门查询员工 -->
	<select id="queryEmployeebyterm" resultType="Employee" parameterType="int">
		select * from  employee where dId=#{dId} 
	</select>
</mapper>